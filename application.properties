# SMTP configuration — use environment variables for credentials (recommended for security)
# Env vars: SPRING_MAIL_HOST, SPRING_MAIL_PORT, SPRING_MAIL_USERNAME, SPRING_MAIL_PASSWORD, SPRING_MAIL_FROM
# Example (PowerShell): setx SPRING_MAIL_USERNAME "your_username"; setx SPRING_MAIL_PASSWORD "your_password"
# Note: Windows may require a new PowerShell session after setx

spring.mail.host=${SPRING_MAIL_HOST:sandbox.smtp.mailtrap.io}
spring.mail.port=${SPRING_MAIL_PORT:2525}
spring.mail.username=${SPRING_MAIL_USERNAME:user}
spring.mail.password=${SPRING_MAIL_PASSWORD:pass}
spring.mail.protocol=smtp
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true
spring.mail.properties.mail.smtp.ssl.enable=false
spring.mail.from=${SPRING_MAIL_FROM:sender@example.com}

# Validação de anexo (não configurável)
# - PDF máximo: 5 MB
# - Validação: Base64 válido, magic bytes %PDF-, tamanho

# Enable JavaMail debug output (prints SMTP conversation to stdout/stderr)
spring.mail.properties.mail.debug=true

# Increase logging for mail-related packages
logging.level.org.springframework.mail=DEBUG
logging.level.jakarta.mail=DEBUG
logging.level.javax.mail=DEBUG
